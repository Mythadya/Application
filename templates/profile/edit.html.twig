{% extends 'base.html.twig' %}

{% block body %}
	<div class="container mt-5 mb-5" style="max-width: 800px;">
		<div class="card shadow p-4">
			<h2 class="h4 text-center mb-4">Modifier le profil</h2>

			{{ form_start(editForm) }}

			<div class="row mb-3">
				<div class="col-md-6">
					{{ form_row(editForm.nom) }}
				</div>
				<div class="col-md-6">
					{{ form_row(editForm.prenom) }}
				</div>
			</div>

			<div class="mb-3">
				{{ form_row(editForm.email) }}
			</div>

			<div class="border rounded p-3 mb-4">
				<h5 class="mb-3">Changer le mot de passe</h5>
				<div class="mb-3">
					{{ form_row(editForm.currentPassword) }}
				</div>
				<div class="mb-3">
					{{ form_row(editForm.newPassword.first) }}
				</div>
				<div class="mb-3">
					{{ form_row(editForm.newPassword.second) }}
				</div>
			</div>

			<div class="text-end">
				<button type="submit" class="btn btn-primary btn-lg">Enregistrer</button>
			</div>

			{{ form_end(editForm) }}
		</div>
	</div>

	<script>
		// Prevent editing the email field
document.addEventListener('DOMContentLoaded', function () {
const emailField = document.getElementById('{{ editForm.email.vars.id }}');
if (emailField) {
emailField.addEventListener('keydown', function (e) {
e.preventDefault();
});
emailField.addEventListener('paste', function (e) {
e.preventDefault();
});
}
});
	</script>

{% endblock %}


{# templates/profile/edit.html.twig #}
{# {% extends 'base.html.twig' %}

{% block body %}
	<div class="container mt-3 mb-3" style="max-width: 800px; margin: 0 auto; padding: 20px; background-color:; border-radius: 10px; box-shadow: 0 4px 8px rgba(32, 16, 10, 0.3);">
		<div class="row  justify-content-center">
			<div
				class="col-md-12">
				{# <div class="card shadow">
																							{# <div class="card-header bg-primary text-white"> #}
{# <h2 class="h3 text-center mb-4">MODIFIER LE PROFIL</h2>
			</div>
			<div class="row mb-3">
				<div class="col-md-6">
					{{ form_row(editForm.nom, {
            'attr': {'class': 'form-control'}
              }) }}
				</div>
				<div class="col-md-6">
					{{ form_row(editForm.prenom, {
            'attr': {'class': 'form-control'}
               }) }}
				</div>
			</div>

			<div class="mb-3">
				{{ form_row(editForm.email, {
        'attr': {
            'class': 'form-control bg-light',
            'onclick': 'return true;',
            'style': 'cursor: not-allowed;'
               }
              }) }}
			</div>

			<!-- Password change section -->
			<div class="mt-4 p-3 border rounded">
				<h5 class="mb-4">Modifier le mot de passe</h5>
				{{ form_row(editForm.currentPassword, {
                        'attr': {'class': 'form-control'}
                    }) }}
				{{ form_row(editForm.newPassword, {
                        'attr': {'class': 'form-control'}
                    }) }}
			</div>

			<div class="form-group">
				<div class="row">
					<div class="col-md-12">
						<button type="submit" class="btn btn-primary btn-lg rounded-pill mt-4">
							Enregistrer
						</div>
					</div>
				</div>
			</button>
			{{ form_end(editForm) }}
		</div>
	</div>
</div></div><script> #}
{# // Prevent any modification of email field #}
{# document.getElementById('{{ editForm.email.vars.id }}').addEventListener('keydown', function (e) {
e.preventDefault();
});</script>{% endblock %} #}
